using UnityEngine;using System.Collections;public class EndLevelMenu : MonoBehaviour {	float screenWidth, screenHeight, itemWidth, itemHeight, buttonWidth, buttonHeight, spacing;	int buttonPadding;	int selectedIndex = 0;	int lastIndex = 2;	public GUIStyle style;	Vector2 scrollPosition = Vector2.zero;	string[] selStrings = new string[] { "Next", "Select Level" };	float TIME_DELAY = .12f;	float delayCount = 0;		void Start () {        Time.timeScale = 0;        screenWidth = Screen.width;        screenHeight = Screen.height;        itemWidth = screenWidth / 5;        itemHeight = itemWidth * .6f;		spacing = screenWidth / 8;		buttonPadding = 0;		buttonWidth = itemWidth - buttonPadding * 2;		buttonHeight = (itemHeight) - buttonPadding * 2;		delayCount = TIME_DELAY;	}		// Update is called once per frame	void Update () {		keyboardFunctionality();	}    void OnGUI()    {		int tempSelectedIndex = GUI.SelectionGrid(new Rect(spacing, spacing * 2, screenWidth - spacing * 2, screenHeight - spacing * 3), selectedIndex, selStrings, 2, style);    }		void keyboardFunctionality() {	    if(Input.GetAxisRaw("Horizontal") < 0)	    {			delayCount = 0;		    if( selectedIndex > 0 )				selectedIndex--;		}		 		if(Input.GetAxisRaw("Horizontal") > 0)		{			delayCount = 0;		    if( selectedIndex + 1 < lastIndex )		        selectedIndex++;		}					//Debug.Log(selectedIndex);			    if( Input.GetButton("Fire1") || Input.GetButton("Jump") || Input.GetKeyUp(KeyCode.Return) ) {			if (selectedIndex == 0) {	        	Application.LoadLevel(Application.loadedLevel + 1);				Time.timeScale = 1;			}			if (selectedIndex == 1) {
                Application.LoadLevel(Application.levelCount - 1);            	Time.timeScale = 1;			}		}	}}